<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Todo Confirmation</title>
  <style>
    /* Sora font - embedded as base64 for CSP compliance */
    @font-face {
      font-family: "Sora";
      font-style: normal;
      font-weight: 400;
      font-display: swap;
      src: url(data:font/woff2;base64,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) format("woff2");
    }

    :root {
      /* Fallback defaults - host will override via postMessage */
      --background: #0D0D0B;
      --card: #1A1917;
      --foreground: #ffffff;
      --muted-foreground: #a0a0a0;
      --border: #3a3a3a;
      --radius: 0.3rem;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      min-height: 100%;
      width: 100%;
      overflow-x: hidden;
      overflow-y: auto;
      background: var(--background);
      color: var(--foreground);
      font-family: "Sora", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      font-size: 14px;
    }

    .container {
      display: flex;
      flex-direction: column;
      padding: 10px;
    }

    /* Matches .todo-item from pip panel */
    .todo-card {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
    }

    /* Matches .todo-checkbox styling - unchecked state */
    .todo-checkbox {
      width: 16px;
      height: 16px;
      border: 1.5px solid var(--border);
      border-radius: calc(var(--radius) * 0.75);
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    /* Checked state */
    .todo-checkbox.checked {
      background: var(--foreground);
      border-color: var(--foreground);
    }

    .todo-checkbox svg {
      width: 10px;
      height: 10px;
      stroke: var(--background);
      stroke-width: 3;
      fill: none;
      opacity: 0;
    }

    .todo-checkbox.checked svg {
      opacity: 1;
    }

    /* Removed state - strikethrough */
    .todo-card.removed .todo-text {
      text-decoration: line-through;
      color: var(--muted-foreground);
    }

    .todo-text {
      flex: 1;
      word-break: break-word;
      color: var(--foreground);
    }

    /* Completed todos show strikethrough */
    .todo-card.completed .todo-text {
      text-decoration: line-through;
      color: var(--muted-foreground);
    }

    .loading {
      color: var(--muted-foreground);
      padding: 10px;
    }

    .error-card {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 8px 10px;
      background: rgba(239, 68, 68, 0.1);
      border: 1px solid rgba(239, 68, 68, 0.3);
      border-radius: var(--radius);
      color: #ef4444;
    }
  </style>
</head>
<body>
  <div class="container">
    <div id="content" class="loading">Loading...</div>
  </div>

  <script>
    /**
     * Todo Confirmation UI
     * 
     * A simple inline widget that displays action confirmations.
     * Styled to match the pip panel's todo-item appearance.
     */

    const contentEl = document.getElementById('content');
    let hasReceivedResult = false;

    /**
     * Apply style variables from host context.
     */
    function applyStyleVariables(variables) {
      const root = document.documentElement;
      for (const [key, value] of Object.entries(variables)) {
        if (value) {
          root.style.setProperty(key, value);
        }
      }
    }

    /**
     * Render the confirmation based on tool result.
     * The action label (e.g., "Added todo") is shown in the widget title bar,
     * not inside the widget itself. This matches the pip panel styling.
     */
    function renderConfirmation(result) {
      const sc = result.structuredContent || {};
      
      if (sc.error) {
        contentEl.innerHTML = `
          <div class="error-card">
            <span>Error: ${escapeHtml(sc.error)}</span>
          </div>
        `;
        return;
      }

      let todoText = '';
      let isChecked = false;
      let cardClass = 'todo-card';
      
      if (sc.action === 'added' && sc.todo) {
        todoText = sc.todo.text;
        isChecked = false;
      } else if (sc.action === 'toggled' && sc.todo) {
        todoText = sc.todo.text;
        isChecked = sc.todo.completed;
        if (sc.todo.completed) {
          cardClass += ' completed';
        }
      } else if (sc.action === 'removed') {
        todoText = 'Item removed';
        isChecked = false;
        cardClass += ' removed';
      } else {
        todoText = 'Done';
      }

      // Checkmark SVG (matches pip panel)
      const checkSvg = '<svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg>';

      contentEl.innerHTML = `
        <div class="${cardClass}">
          <div class="todo-checkbox ${isChecked ? 'checked' : ''}">
            ${checkSvg}
          </div>
          <span class="todo-text">${escapeHtml(todoText)}</span>
        </div>
      `;
    }

    /**
     * Escape HTML to prevent XSS.
     */
    function escapeHtml(text) {
      const div = document.createElement('div');
      div.textContent = text;
      return div.innerHTML;
    }

    /**
     * Handle messages from the host.
     */
    window.addEventListener('message', (event) => {
      const data = event.data;
      if (!data || typeof data !== 'object') return;

      console.log('Confirmation received:', data);

      // Handle ui/initialize request
      if (data.method === 'ui/initialize') {
        const hostContext = data.params?.hostContext;
        
        // Apply theme styles
        if (hostContext?.styles?.variables) {
          applyStyleVariables(hostContext.styles.variables);
        }

        // Respond with capabilities
        window.parent.postMessage({
          jsonrpc: '2.0',
          id: data.id,
          result: {
            protocolVersion: '2025-06-18',
            capabilities: {},
            clientInfo: { name: 'Todo Confirmation', version: '1.0.0' },
          },
        }, '*');

        // Send initialized notification
        window.parent.postMessage({
          jsonrpc: '2.0',
          method: 'ui/notifications/initialized',
          params: {},
        }, '*');

        return;
      }

      // Handle tool result notification - this is what we display
      if (data.method === 'ui/notifications/tool-result') {
        if (!hasReceivedResult) {
          hasReceivedResult = true;
          renderConfirmation(data.params || {});
        }
        return;
      }

      // Handle host context changes (theme updates)
      if (data.method === 'ui/notifications/host-context-changed') {
        if (data.params?.styles?.variables) {
          applyStyleVariables(data.params.styles.variables);
        }
        return;
      }

      // Handle teardown request
      if (data.method === 'ui/resource-teardown' && data.id !== undefined) {
        window.parent.postMessage({
          jsonrpc: '2.0',
          id: data.id,
          result: {},
        }, '*');
        return;
      }
    });
  </script>
</body>
</html>
